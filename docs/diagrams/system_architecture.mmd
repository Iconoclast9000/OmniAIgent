graph TD
    %% System Architecture Diagram
    subgraph UserInterface["User Interface Layer"]
        CLI[Command Line Interface]
        Parser[Command Parser]
        Response[Response Handler]
    end

    subgraph CoreSystem["Core System Layer"]
        FSM[FileSystemManager]
        CodeGen[Code Generator]
        CodeClean[Code Cleaner]
        FileOps[File Operations]
    end

    subgraph AILayer["AI Layer"]
        LangChain[LangChain]
        AIModel[DeepSeek Model]
        Prompt[Prompt Manager]
    end

    subgraph Storage["Storage Layer"]
        FS[File System]
        Cache[Cache]
        History[Command History]
    end

    %% Connections
    CLI --> Parser
    Parser --> FSM
    FSM --> CodeGen
    CodeGen --> AIModel
    AIModel --> CodeClean
    CodeClean --> FileOps
    FileOps --> FS
    FSM --> History
    CodeGen --> Cache

    %% Data Flow
    Parser -.-> Response
    FileOps -.-> Response
    Response -.-> CLI